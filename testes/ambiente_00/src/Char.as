package{	import flash.display.Graphics;	import flash.display.Sprite;	import flash.events.Event;	import flash.events.MouseEvent;	public class Char extends Sprite	{		static private var chars:Vector.<Char>;				//sentidos primarios		public var visAngle:Number = 0.5 * (100) * (Math.PI/180);		public var visDist:Number = 210; //distancia de visao		public var audicaoRaio:Number = 50;		public var olfatoFac:Number = .4; //1-perfeito				//caracteristicas		public var cor:uint = 0x000000;		public var tamanho:int = 6;				public function Char()		{			addEventListener('addedToStage', initLife );						draw();						addElement( this );		}				static private function addElement( char:Char ):void {			if (!Char.chars) {				Char.chars = new Vector.<Char>();			}			Char.chars.push( char );		}				static private function updateAll( e:Event ):void {			var i:int = chars.length;			while (i) {				i--;				chars[i].update();			}		}				private function initLife(e:Event):void {			x = Math.random()*this.stage.stageWidth;			y = Math.random()*this.stage.stageHeight;			//rotation = Math.random()*360;						this.stage.addEventListener(MouseEvent.MOUSE_MOVE, mouseSens);		}				private function update():void {					}				private function draw():void {			var g:Graphics = this.graphics;			g.clear();			//audicao			g.lineStyle( 1, 0xff0000,.6 );			if (ouvindo) g.beginFill( 0xff0000,.2 );			g.drawCircle( 0,0, audicaoRaio );			if (ouvindo) g.endFill();						//visao			g.lineStyle(1,0x0000ff,.5);			if (vendo) g.beginFill( 0x0000ff,.2 );			g.moveTo(0,0);			g.lineTo( Math.cos(-visAngle)*visDist, Math.sin(-visAngle)*visDist );			//g.lineTo( Math.cos( visAngle)*visDist, Math.sin( visAngle)*visDist );			g.curveTo( Math.cos(-visAngle*.5)*visDist*1.122, Math.sin(-visAngle*.5)*visDist*1.122, visDist,0);			g.curveTo( Math.cos(visAngle*.5)*visDist*1.122, Math.sin(visAngle*.5)*visDist*1.122,						Math.cos( visAngle)*visDist, Math.sin( visAngle)*visDist);			g.lineTo(0,0);			if (vendo) g.endFill();						//eu			g.lineStyle(0,0,0);			g.beginFill(cor,1);			g.drawCircle(0,0, tamanho*0.5 );			g.endFill();			g.lineStyle(1,0xffffff,1);			g.moveTo(0,0);			g.lineTo( tamanho*.5, 0 );		}				private var ouvindo:Boolean = false;		private var vendo:Boolean = true;		private var cheirando:Number = 0;				private function mouseSens( e:MouseEvent ):void {			//ouvindo			ouvindo = Boolean( Math.sqrt( this.mouseX*this.mouseX + this.mouseY*this.mouseY ) < audicaoRaio );						//vendo			if (Math.sqrt( this.mouseX*this.mouseX + this.mouseY*this.mouseY ) < visDist) {				vendo = Boolean( Math.abs(Math.atan2(this.mouseY,this.mouseX )) < visAngle);			} else vendo = false;						draw();		}	}}